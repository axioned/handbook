<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-processes/delivery/Continous/github-action/GithubActions">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">GitHub Actions for WordPress | Axioned Handbook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/handbook/docs/processes/delivery/Continous/github-action/GithubActions"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="GitHub Actions for WordPress | Axioned Handbook"><meta data-rh="true" name="description" content="This document is an overview of the required information that a developer needs to have"><meta data-rh="true" property="og:description" content="This document is an overview of the required information that a developer needs to have"><link data-rh="true" rel="icon" href="/handbook/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/handbook/docs/processes/delivery/Continous/github-action/GithubActions"><link data-rh="true" rel="alternate" href="https://github.com/handbook/docs/processes/delivery/Continous/github-action/GithubActions" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/handbook/docs/processes/delivery/Continous/github-action/GithubActions" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XET7E8E4LW"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XET7E8E4LW",{anonymize_ip:!0})</script><link rel="stylesheet" href="/handbook/assets/css/styles.ded0636a.css">
<link rel="preload" href="/handbook/assets/js/runtime~main.545989ed.js" as="script">
<link rel="preload" href="/handbook/assets/js/main.a9b50fd0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/handbook/"><div class="navbar__logo"><img src="/handbook/img/logo.png" alt="Axioned" class="themedImage_ToTc themedImage--light_HNdA"><img src="/handbook/img/logo.png" alt="Axioned" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Handbook</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/handbook/docs/welcome">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://insights.axioned.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://3.basecamp.com/5301242/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Basecamp<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/handbook/docs/welcome">Welcome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/handbook/docs/category/processes">Processes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Processes&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/handbook/docs/category/security">Security</a><button aria-label="Toggle the collapsible sidebar category &#x27;Security&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/handbook/docs/category/performance">Performance</a><button aria-label="Toggle the collapsible sidebar category &#x27;Performance&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/handbook/docs/category/architecture">Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/handbook/docs/category/delivery">Delivery</a><button aria-label="Toggle the collapsible sidebar category &#x27;Delivery&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/handbook/docs/processes/delivery/Continous/Managed/aws-amplify">Continous</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/handbook/docs/processes/delivery/Continous/Managed/aws-amplify">Managed</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/handbook/docs/processes/delivery/Continous/github-action/GithubActions">github-action</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/handbook/docs/processes/delivery/Continous/github-action/GithubActions">WordPress GitHub Actions</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/handbook/docs/processes/delivery/Phased/go-live">Phased</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/handbook/docs/category/observability">Observability</a><button aria-label="Toggle the collapsible sidebar category &#x27;Observability&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/handbook/docs/processes/Coding standards/WPCS">Coding standards</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/handbook/docs/processes/Source control and Promotion/axioned-hosted">Source control and Promotion</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/handbook/docs/processes/backup/backup-wpengine">backup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/handbook/docs/processes/provisioning/aws-cloudformation">provisioning</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/handbook/docs/category/decision-records">Decision Records</a><button aria-label="Toggle the collapsible sidebar category &#x27;Decision Records&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/handbook/docs/category/playbook">Playbook</a><button aria-label="Toggle the collapsible sidebar category &#x27;Playbook&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/handbook/docs/contribute">Contribute</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/handbook/docs/category/tutorial">Tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/handbook/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/handbook/docs/category/processes"><span itemprop="name">Processes</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/handbook/docs/category/delivery"><span itemprop="name">Delivery</span></a><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Continous</span><meta itemprop="position" content="3"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">github-action</span><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">WordPress GitHub Actions</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>GitHub Actions for WordPress</h1></header><p>This document is an overview of the required information that a developer needs to have
in order to implement CI/CD in any of the WordPress projects.</p><p>CI/CD automates your builds, and deployment so you can ship code changes faster and more reliably.</p><h1>General Information</h1><p><strong>Platform</strong></p><p>The platform supported by the below scripts can run only on GitHub since the below scripts are using GitHub action to achieve CI/CD.</p><p><strong>Prerequisite</strong></p><ul><li>A GitHub account</li><li>Repository/Project on GitHub (always private for client projects)</li><li>Necessary Permissions on the repository to store some SECRET KEYS <em>(like: SECURITY_AWS_ACCESS_KEY, SECURITY_AWS_SECRET_ACCESS_KEY, SSH_PRIVATE_KEY, etc)</em> in - Github (for more details connect with the IT team/Sagar)</li><li>Access to the hosting/control panel to extract the server details and the Private keys etc.</li><li>SSH should be enabled/supported by the hosting provider</li></ul><p><strong>Architecture</strong>
<em>File &amp; Folder Structure</em></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">├── .github</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── workflows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── prod.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── stage.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── dev.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── wp-content</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── themes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── .gitignore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── README.md</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-cicd">Why CI/CD?<a class="hash-link" href="#why-cicd" title="Direct link to heading">​</a></h2><p>The short answer would be - Speed.
While faster development is the most well-known benefit of CI/CD, continuous integration and continuous delivery pipeline enable much more.</p><ul><li>Development velocity</li><li>Stability and reliability</li><li>Business growth</li></ul><p><a href="https://resources.github.com/webcasts/Devops-collaboration-GitHub-Actions-thankyou/" target="_blank" rel="noopener noreferrer">Learn more about the benefits of CI/CD</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-build-a-cicd-pipeline">How to build a CI/CD pipeline<a class="hash-link" href="#how-to-build-a-cicd-pipeline" title="Direct link to heading">​</a></h2><p>Build a CI/CD pipeline with GitHub Actions
<a href="https://github.blog/2022-02-02-build-ci-cd-pipeline-github-actions-four-steps/" target="_blank" rel="noopener noreferrer">Learn more</a></p><p>Key advantages of using GitHub Actions for CI/CD pipelines</p><ul><li>CI/CD pipeline set-up is simple</li><li>Respond to any webhook on GitHub</li><li>Community-powered, reusable workflows</li><li>Support for any platform, any language, and any cloud</li></ul><p><a href="https://youtu.be/5MJRtldPOEI" target="_blank" rel="noopener noreferrer">Learn more about</a>  how to start a CI pipeline with Github Actions</p><br><u>**Step 1:**</u> **Create or choose a repository, and pick a project**<p>The first step to building a CI pipeline with GitHub Actions is creating or choosing a repository on GitHub.</p><p>You can either use an existing project code base, fork a project you like on GitHub, or start from scratch.</p><u>**Step 2:**</u> **Open GitHub Actions in your repository to start building your CI/CD workflow**<p>To begin building your CI/CD pipeline, open the GitHub Actions tab in your repository’s top navigation bar.</p><p>Under Github Action you will find list of templates from you can choose as per your project techstack.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="a-cicd-workflows-include">A CI/CD workflows include:<a class="hash-link" href="#a-cicd-workflows-include" title="Direct link to heading">​</a></h4><ul><li><u>**A development workflow**</u>This workflow runs through a few different jobs whenever a pull request is opened, edited, synchronized, or reopened. These jobs include setting up Node, installing npm packages and dependencies, running npm test, and cycling through a number of lint jobs too (setup node, install npm@latest, install dependencies, lint code… you get the idea).</li></ul><br><ul><li><u>**A CodeQL Analysis workflow**</u>This workflow runs a series of CodeQL security tests on our code after we merge it to the main branch to ensure there are no known vulnerabilities. Check out the [YAML](https://github.com/aaronwinston/open-sauced/blob/main/.github/workflows/codeql-analysis.yml) file for yourself. It’s super simple</li></ul><br><ul><li><u>**A release and builds workflow**</u>This workflow runs tests and enforces lint after releasing code changes to Docker and building the application. It also deploys the final code to our production environment You can see which jobs and steps happen in the [workflow](https://github.com/aaronwinston/open-sauced/blob/main/.github/workflows/release.yml) for yourself.<br></li><li><u>**A storybook deployment workflow**</u>This workflow deploys any UI component changes to our production website through our frontend UI tech</li></ul><u>**Step 3:**</u> **Make changes to your code to trigger your CI/CD pipeline**<p>You can proceed with the changes and push the code to GitHub and you will see in action</p><p>We will see an example step by step you can follow that and get a complete idea of CI/CD using GitHub action working</p><p><em><strong>Tip</strong>: Few Github actions resources, basics to CI/CD - <a href="https://github.blog/2021-11-04-10-github-actions-resources-basics-ci-cd/" target="_blank" rel="noopener noreferrer">reference link</a></em></p><br><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cicd-example-and-detailed-process-step-by-step">CI/CD Example and detailed process step by step<a class="hash-link" href="#cicd-example-and-detailed-process-step-by-step" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-setup-projectrepository"><u>Step 1</u>: Setup Project/Repository<a class="hash-link" href="#step-1-setup-projectrepository" title="Direct link to heading">​</a></h3><p>Set up your Project/Repository on Github in which you want to implement the CI/CD process</p><br><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-setup-github-workflow"><u>Step 2</u>: Setup GitHub workflow<a class="hash-link" href="#step-2-setup-github-workflow" title="Direct link to heading">​</a></h3><p>Here we have 2 ways to set up the GitHub workflow <em>(recommended is 2nd one for good practice)</em></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-github-ui-via-github-website">1. GitHub UI (via GitHub website)<a class="hash-link" href="#1-github-ui-via-github-website" title="Direct link to heading">​</a></h4><p>In this approach follow the below steps to achieve</p><ul><li>Go to the respective repository on the GitHub site</li><li>Navigate to the <strong>Action</strong> menu on the top</li><li>Then click on <strong>set up a workflow yourself</strong> or you can click from the suggested list below</li><li>After clicking you will be redirected to the YML file here you will add the code for deployment <em>(an example is attached below for reference)</em></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-via-custom-yml-code-within-project-setup-phase">2. Via custom YML code <em>(within project setup phase)</em>:<a class="hash-link" href="#2-via-custom-yml-code-within-project-setup-phase" title="Direct link to heading">​</a></h4><p><em>You can manually create a respective YML file and put it into the GitHub workflows folder</em></p><p>In this case, follow the below steps to set up</p><ol><li>Make sure you are on the main (default) branch of the repository.</li><li>Create a folder <code>.github</code> inside create <code>workflows</code> folder in the root directory of the project <em>(in our case it will reside outside the wp-content folder)</em></li><li>Under the workflows folder, you can create your deployment <code>.yml</code> file. The folder structure will look like this: <code>.github/workflows/dev.yml</code></li><li>You can set up all the processes and actions to be taken once the GitHub action is triggered.</li><li>Once you are done with the YML file commit the changes and push the file</li><li>As per instructions in <code>.yml</code> file, the actions will run on GitHub.</li><li>In the later step we will see what goes into the <code>.yml</code> file.</li></ol><br><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-understanding-the-yml-script-below"><u>Step 3</u>: Understanding the YML script below<a class="hash-link" href="#step-3-understanding-the-yml-script-below" title="Direct link to heading">​</a></h3><p>Below attached is the snippet for the basic flow which is set for CI/CD in our case</p><u>**Note:**</u> the code is case sensitive and the indentation is very important wrong indentation will result in **Build Failure**<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># This is a basic workflow to help you get started with Actions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Auto Deployment on Dev Environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Controls when the workflow will run</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Triggers the workflow on push or pull request events but only for the staging branch</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">push</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">branches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> staging </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">runs-on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># Deploy Files on the server using rsync command, after that delete the cache folder from server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/checkout@v2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Rsync to WP Engine Dev Env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token key atrule" style="color:#00a4db">dest</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;[WP_USER_NAME]@[WP_HOST]&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">       echo &quot;${{secrets.DEV_DEPLOY_KEY_PRIVATE}}&quot; &gt; deploy_key</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">       chmod 600 ./deploy_key</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">       rsync -chav -e &#x27;ssh -i ./deploy_key -o StrictHostKeyChecking=no&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">         --exclude /deploy_key \</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">         --exclude /.git/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">         --exclude /.gitignore/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">         --exclude /.github/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">         --exclude /.github/workflows \</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">         --exclude /node_modules/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">         ./ ${{env.dest}}:[PROJECT_PATH]</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">       ssh -i ./deploy_key -o StrictHostKeyChecking=no ${{env.dest}} &#x27;rm -r [FOLDER_PATH_OF_CACHE] -f&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><br><p>For more information about the GitHub Action please visit this <a href="https://github.blog/2021-11-04-10-github-actions-resources-basics-ci-cd/" target="_blank" rel="noopener noreferrer">link</a>
Documentation for GitHub Action: <a href="https://docs.github.com/en/actions" target="_blank" rel="noopener noreferrer">link</a></p><p>Here is the high-level summary/understanding of the above code (github <em><a href="https://github.com/axioned/axioned-wordpress-starter/blob/main/.github/workflows/dev.yml" target="_blank" rel="noopener noreferrer">link</a>)</em>:</p><ul><li><p><strong>on</strong>: Since we are using GitHub Actions to deploy the files from the GitHub server/repository to the development server <em>(where the site is hosted)</em></p><ul><li><strong>push</strong>: The GitHub Action is set on the push on the <strong>staging branch</strong> as you can notice in the above code snippet.</li><li>Whenever there are any changes pushed to the staging branch the GitHub Action hook will be triggered.</li><li>As per our above code, the further job will be executed</li></ul></li><li><p>Similarly, you can set triggers on pull as well but in the above case we have set on the push</p></li><li><p><strong>runs-on</strong>: Under Jobs, we mentioned the <strong>runs-on</strong> parameter which indicated the jobs further we have declared to be run on. <em>(This is an action runner -&gt; the actions mentioned in the script will be run on)</em></p></li><li><p>In our case, we used the latest version of ubuntu <em>(you can use the self-hosted or any other inbuild versions from GitHub, etc)</em></p><ul><li>But as we have to execute some ssh and other commands so we used ubuntu with the latest version as an example</li></ul></li><li><p>Post that we have declared all the steps for our action runner to execute once the trigger is hit</p></li><li><p><strong>uses</strong>: here we have declared checkouts v2 action</p><ul><li>It is an official GitHub Action used to check out a repository so a workflow can access it.</li></ul></li><li><p>Then we have given a name to the current job as “Rsync to WP Engine Dev Env”</p><ul><li>This will be visible while the build is running</li></ul></li><li><p><strong>env</strong>: then we have set some environment variables which we will be using further for server connection and the deployment</p><ul><li><strong>dest</strong>: here we used the destination variable for storing the server details this can be found on the hosting dashboard like WPEngine/AWS etc.</li><li>Syntax -&gt; <strong>username@remote_host(IP/Domain_name)</strong></li><li>while adding destination make sure you add the correct path for the deployment <em>(where needs to be copied/deployed the entire repo as mentioned in the script)</em></li><li>In our example, the site was installed at <code>/sites/dev123v/</code> the entire wp setup and their files</li></ul></li><li><p><strong>run</strong>: then we will proceed with the actual command that needs to be executed by action runner on the latest ubuntu as we declared in the above code</p></li><li><p>Here we are executing multiple commands in series in order to deploy files from the GitHub repository to the development server</p><ul><li><strong>echo</strong>: using this line we are saving/creating a private key file which will be required to establish a connection between the GitHub ubuntu machine and the development server further<ul><li>In our example, <strong>DEV_DEPLOY_KEY_PRIVATE</strong> this variable was used in the script</li><li>This needs to be created on GitHub under <strong>Settings -&gt; Secrets -&gt; Action</strong> <em>(If not visible please contact the IT team/Sagar for access)</em></li><li>The private key you can download it from the server using your hosting login</li></ul></li><li><strong>chmod</strong>: setting up the proper permissions to the file</li><li><strong><a href="https://help.ubuntu.com/community/rsync" target="_blank" rel="noopener noreferrer">rsync</a></strong>: using this command we are transferring the files from the GitHub repository to the actual development server over an ssh connection<ul><li>For more information about <strong>rsync, ssh commands</strong> and there usage you can check these Official links<a href="https://help.ubuntu.com/community/rsync" target="_blank" rel="noopener noreferrer">rsync</a> <a href="https://linux.die.net/man/1/ssh" target="_blank" rel="noopener noreferrer">ssh</a></li></ul></li><li>As you noticed in the above code we have excluded a few of the directories and files similarly you can add if any file/folder needs to be excluded in a deployment like a config file etc.</li></ul></li><li><p>In the end, we are deleting the cache folder <em>(this is optional only if the cache is stored on a server in that case we can execute this)</em></p></li></ul><u>**NOTE:**</u> As we saw in the above script consists of a single trigger which is attached on push action on the staging branch similarly you can write for multiple branches separate code for the production server and separate for the staging server _(recommended in that case create separate files ex. **prod.yml** and **dev.yml** files)_</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/handbook/docs/tags/git-hub">GitHub</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/handbook/docs/tags/actions">Actions</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/handbook/docs/tags/cicd">CICD</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/handbook/docs/tags/deployment">Deployment</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/handbook/docs/tags/word-press">WordPress</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/handbook/docs/tags/yml">yml</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/handbook/docs/tags/wp-engine">WP Engine</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/handbook/docs/tags/aws">AWS</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/processes/delivery/Continous/github-action/github-action-for-wordpress.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/handbook/docs/processes/delivery/Continous/Managed/netlify"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">netlify</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/handbook/docs/processes/delivery/Phased/go-live"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">go-live</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-cicd" class="table-of-contents__link toc-highlight">Why CI/CD?</a></li><li><a href="#how-to-build-a-cicd-pipeline" class="table-of-contents__link toc-highlight">How to build a CI/CD pipeline</a></li><li><a href="#cicd-example-and-detailed-process-step-by-step" class="table-of-contents__link toc-highlight">CI/CD Example and detailed process step by step</a><ul><li><a href="#step-1-setup-projectrepository" class="table-of-contents__link toc-highlight"><u>Step 1</u>: Setup Project/Repository</a></li><li><a href="#step-2-setup-github-workflow" class="table-of-contents__link toc-highlight"><u>Step 2</u>: Setup GitHub workflow</a></li><li><a href="#step-3-understanding-the-yml-script-below" class="table-of-contents__link toc-highlight"><u>Step 3</u>: Understanding the YML script below</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/handbook/docs/category/playbook">Playbook</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/docs/category/processes">Processes</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/docs/category/decision-records">Decision Records</a></li></ul></div><div class="col footer__col"><div class="footer__title">Quick Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://axioned.slack.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/axioned" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://axioned.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:workwithus@axioned.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="tel:+19172757105" target="_blank" rel="noopener noreferrer" class="footer__link-item">Phone<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Axioned. Built with Docusaurus.</div></div></div></footer></div>
<script src="/handbook/assets/js/runtime~main.545989ed.js"></script>
<script src="/handbook/assets/js/main.a9b50fd0.js"></script>
</body>
</html>